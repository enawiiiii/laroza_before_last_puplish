import admin from 'firebase-admin';

// إعداد Firebase للبوتيك
const boutiqueServiceAccount = {
  "type": "service_account",
  "project_id": "larozastoredata",
  "private_key_id": "4bf1c1a7a73bee3970ac9a65a0acd7f9c8137220",
  "private_key": "-----BEGIN PRIVATE KEY-----\n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\nYkYbXS8BUSwdIUfS07\n-----END PRIVATE KEY-----\n",
  "client_email": "firebase-adminsdk-fbsvc@larozastoredata.iam.gserviceaccount.com",
  "client_id": "112267544942949994225",
  "auth_uri": "https://accounts.google.com/o/oauth2/auth",
  "token_uri": "https://oauth2.googleapis.com/token",
  "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
  "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-fbsvc%40larozastoredata.iam.gserviceaccount.com",
  "universe_domain": "googleapis.com"
};

// تأكد من أن Firebase للبوتيك غير مهيأ
if (!admin.apps.find(app => app?.name === 'boutique')) {
  admin.initializeApp({
    credential: admin.credential.cert(boutiqueServiceAccount as admin.ServiceAccount),
    databaseURL: "https://larozastoredata-default-rtdb.firebaseio.com/",
  }, 'boutique');
}

export const boutiqueFirestore = admin.app('boutique').firestore();
export const boutiqueDatabase = admin.app('boutique').database();