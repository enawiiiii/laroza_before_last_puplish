import admin from 'firebase-admin';

// إعداد Firebase للأونلاين
const onlineServiceAccount = {
  "type": "service_account",
  "project_id": "laroza-c6ef4",
  "private_key_id": "760b483755fbced75690c56e100c944297e815d1",
  "private_key": "-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDFEwNIHoyhyVdL\nF/Szhz3tl6W5v9R8PSKVD1PR8t6iFTAIPOgZt2h4z6xUw5m7meavbkVaISJcaqfP\n7vrdUjwKmUcY8sy6hIAjxsSDJwzVgMixW/A8ekZyZojbrtEAOtj8zWwsiE0SmDE1\nR+vTeOn7UWyjdrJR9RseFvnJKlTumJAqGR6ImngO9pltkzKnAkZAL7MLg44e8rlS\nILpMU03j9CF/Al+KDnm58h7+sQSIZHEe/VCJ9CNgS1S0rCixyxfj7bQSfUC/GHkI\n2wLbOuQD9mOZ1tUrmYHH2yqxUK9UuMALCiV+sO0RRgu58Jy/hT0ENI+OerBwCjNi\ni5Y4n2qBAgMBAAECggEAA8ugxw1LkRFtxx+gJ1Wl9C1k/KG1fJF5DKDNf2qPAd3l\n9x2K8QLr1fQ3ZrFKe+I8d7vF1JlKhfQ4P9H2Q8d2Y1w5x5F3QqL3K8YRs2Q4vF9J\ndJpB7H1FxlBkrKZ3QzV3JbC4QqV1z2sYjL8Y2Q6vFsQ8HfG1lR9JLd2YF4VfF3C1\nQdFqSxZ2Y9Y3P8H4FgKZzV3Lf2q8P7F1J5C9B6Y2Q4H1v3R7F8KqL5D3P1Q2F4v9\n1Y6H8QqL2F3PzQ5Y7V1F9JdKhL8P4R2F3Y9Q1vH4L7Z5F3Q8PdL9Y2vF1QR5K3H7\ny6F8R1PqL3F2Q9Y5H4vF3Z1K8Q7PdL9Y2F1vQ5R3K4H7y6F8R1P2L3Q9Y5H4vF3Z1\nKwKBgQD2F8Q3Y9P1vH4L7Z5F3Q8PdL9Y2vF1QR5K3H7y6F8R1PqL3F2Q9Y5H4vF3Z\n1K8Q7PdL9Y2F1vQ5R3K4H7y6F8R1P2L3Q9Y5H4vF3Z1K8Q7PdL9Y2F1vQ5R3K4H7y\n6F8R1P2L3Q9Y5H4vF3Z1K8Q7PdL9Y2F1vQ5R3K4H7y6F8R1P2L3Q9Y5H4vF3Z1K8Q\n7PdL9Y2F1vQ5R3K4H7y6F8R1P2L3Q9Y5H4vF3Z1KwKBgQDkF3Q8PdL9Y2vF1QR5K\n3H7y6F8R1PqL3F2Q9Y5H4vF3Z1K8Q7PdL9Y2F1vQ5R3K4H7y6F8R1P2L3Q9Y5H4vF\n3Z1K8Q7PdL9Y2F1vQ5R3K4H7y6F8R1P2L3Q9Y5H4vF3Z1K8Q7PdL9Y2F1vQ5R3K4H\n7y6F8R1P2L3Q9Y5H4vF3Z1K8Q7PdL9Y2F1vQ5R3K4H7y6F8R1P2L3Q9Y5H4vF3Z1K\nQwKBgF3Z1K8Q7PdL9Y2F1vQ5R3K4H7y6F8R1P2L3Q9Y5H4vF3Z1K8Q7PdL9Y2F1v\nQ5R3K4H7y6F8R1P2L3Q9Y5H4vF3Z1K8Q7PdL9Y2F1vQ5R3K4H7y6F8R1P2L3Q9Y5H\n4vF3Z1K8Q7PdL9Y2F1vQ5R3K4H7y6F8R1P2L3Q9Y5H4vF3Z1K8Q7PdL9Y2F1vQ5R3\nK4H7y6F8R1P2L3Q9Y5H4vF3Z1KwKBgQCvF3Z1K8Q7PdL9Y2F1vQ5R3K4H7y6F8R1\nP2L3Q9Y5H4vF3Z1K8Q7PdL9Y2F1vQ5R3K4H7y6F8R1P2L3Q9Y5H4vF3Z1K8Q7PdL\n9Y2F1vQ5R3K4H7y6F8R1P2L3Q9Y5H4vF3Z1K8Q7PdL9Y2F1vQ5R3K4H7y6F8R1P2\nL3Q9Y5H4vF3Z1K8Q7PdL9Y2F1vQ5R3K4H7y6F8R1P2L3Q9Y5H4vF3Z1KwKBgQC1\nK8Q7PdL9Y2F1vQ5R3K4H7y6F8R1P2L3Q9Y5H4vF3Z1K8Q7PdL9Y2F1vQ5R3K4H7y\n6F8R1P2L3Q9Y5H4vF3Z1K8Q7PdL9Y2F1vQ5R3K4H7y6F8R1P2L3Q9Y5H4vF3Z1K8\nQ7PdL9Y2F1vQ5R3K4H7y6F8R1P2L3Q9Y5H4vF3Z1K8Q7PdL9Y2F1vQ5R3K4H7y6F\n8R1P2L3Q9Y5H4vF3Z1Q=\n-----END PRIVATE KEY-----\n",
  "client_email": "firebase-adminsdk-fbsvc@laroza-c6ef4.iam.gserviceaccount.com",
  "client_id": "104118817253005505723",
  "auth_uri": "https://accounts.google.com/o/oauth2/auth",
  "token_uri": "https://oauth2.googleapis.com/token",
  "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
  "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-fbsvc%40laroza-c6ef4.iam.gserviceaccount.com",
  "universe_domain": "googleapis.com"
};

// تأكد من أن Firebase للأونلاين غير مهيأ
if (!admin.apps.find(app => app?.name === 'online')) {
  admin.initializeApp({
    credential: admin.credential.cert(onlineServiceAccount as admin.ServiceAccount),
    databaseURL: "https://laroza-c6ef4-default-rtdb.firebaseio.com/",
  }, 'online');
}

export const onlineFirestore = admin.app('online').firestore();
export const onlineDatabase = admin.app('online').database();